RewriteEngine On
RewriteCond %{REQUEST_URI} !/public
RewriteRule ^(.*)$ index.php?$1 [L,QSA]